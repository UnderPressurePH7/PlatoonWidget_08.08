# –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –∫–æ–º—ñ—Ç—É a16c9a7 –±–µ–∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ frags

## –ü—ñ–¥—Å—É–º–æ–∫ –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω–∏—Ö –∑–º—ñ–Ω:

### ‚úÖ **–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –∑ –∫–æ–º—ñ—Ç—É a16c9a7 (–ó–ê–°–¢–û–°–û–í–ê–ù–û):**

**1. –ü–æ–∫—Ä–∞—â–µ–Ω–µ WebSocket –∑'—î–¥–Ω–∞–Ω–Ω—è:**
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö WebSocket –æ–ø–µ—Ä–∞—Ü—ñ–π
- ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é —ñ—Å–Ω—É–≤–∞–Ω–Ω—è response
- ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ fallback –Ω–∞ REST API –ø—Ä–∏ –∑–±–æ—è—Ö WebSocket

**2. –û–Ω–æ–≤–ª–µ–Ω–∞ –æ–±—Ä–æ–±–∫–∞ statsUpdated event:**
- ‚úÖ –î–æ–¥–∞–Ω–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è –æ—Ç—Ä–∏–º–∞–Ω–∏—Ö –ø–æ–¥—ñ–π
- ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω–æ –ª–æ–≥—ñ–∫—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –æ–Ω–æ–≤–ª–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö

**3. –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ—à–∫–æ–¥–∂–µ–Ω—å —ñ –≤–±–∏–≤—Å—Ç–≤:**
- ‚úÖ –î–æ–¥–∞–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è handlePlayerDamage
- ‚úÖ –î–æ–¥–∞–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è handlePlayerKill
- ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω–æ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –Ω–∞–∫–æ–ø–∏—á—É–≤–∞–ª—å–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å

**4. –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –æ–±—Ä–æ–±–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –±–æ—ó–≤:**
- ‚úÖ –î–æ–¥–∞–Ω–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—É –æ–±—Ä–æ–±–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –≥—Ä–∞–≤—Ü—ñ–≤ –¥–æ PlayerInfo
- ‚úÖ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–∞–∑–≤–∏ –∫–∞—Ä—Ç–∏ –∑ arenaTag
- ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–∞–∑–≤–∏ —Ç–∞–Ω–∫–∞ –∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –±–æ—é

**5. Fallback –ª–æ–≥—ñ–∫–∞:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è –Ω–∞ REST API –ø—Ä–∏ –∑–±–æ—è—Ö WebSocket
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è fallback –æ–ø–µ—Ä–∞—Ü—ñ–π

### ‚ùå **–ù–ï –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω–æ (–≤—ñ–¥—Ö–∏–ª–µ–Ω–æ):**

**1. –ü–æ–ª–µ frags:**
- ‚ùå –ù–µ –¥–æ–¥–∞–≤–∞–ª–∏ –ø–æ–ª–µ `frags` —É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–∏—Ö
- ‚ùå –ù–µ –¥–æ–¥–∞–≤–∞–ª–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫—É `frags` –ø—Ä–∏ –æ–±—Ä–æ–±—Ü—ñ –¥–∞–Ω–∏—Ö –∑ —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ç—ñ–ª—å–∫–∏ `kills` –∑–≥—ñ–¥–Ω–æ –∑ API NodeServerNew

### üìä **–ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –ø–æ–ª—è –¥–∞–Ω–Ω–∏—Ö:**

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥—Ä–∞–≤—Ü—è (–ë–ï–ó frags):**
```javascript
{
  name: string,
  damage: number,
  kills: number,     // ‚Üê –¢—ñ–ª—å–∫–∏ kills, –±–µ–∑ frags
  points: number,
  vehicle: string
}
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞:**
```javascript
{
  battleStats: {
    "arenaId": {
      startTime: number,
      duration: number,
      win: number,
      mapName: string,
      players: { /* players data */ }
    }
  },
  playersInfo: {
    "playerId": "playerName"
  }
}
```

### üîß **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

–í—ñ–¥–∂–µ—Ç —Ç–µ–ø–µ—Ä –º–∞—î –≤—Å—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è –∑ –∫–æ–º—ñ—Ç—É `a16c9a7`, –∞–ª–µ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –ø–æ–≤–Ω—ñ—Å—Ç—é —Å—É–º—ñ—Å–Ω–∏–º –∑ —Å–µ—Ä–≤–µ—Ä–æ–º NodeServerNew, —è–∫–∏–π –æ—á—ñ–∫—É—î —Ç—ñ–ª—å–∫–∏ –ø–æ–ª–µ `kills` (–±–µ–∑ `frags`).

### üß™ **–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ —Ç–µ—Å—Ç–∏:**

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ —Å–µ—Ä–≤–µ—Ä–∞  
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –æ—á–∏—â–µ–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–æ–±–æ—Ç—É –ø—Ä–∏ –ø–æ–≥–∞–Ω–æ–º—É WebSocket –∑'—î–¥–Ω–∞–Ω–Ω—ñ (–º–∞—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ REST fallback)

–í—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó —Ç–µ–ø–µ—Ä –º–∞—é—Ç—å –¥–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤ –∫–æ–Ω—Å–æ–ª—ñ –±—Ä–∞—É–∑–µ—Ä–∞.
